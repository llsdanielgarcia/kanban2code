/* Surfaces - v3 luminous dark */

/* Base glass effect */
.glass {
  position: relative;
  background: linear-gradient(145deg, rgba(255, 255, 255, 0.04), rgba(255, 255, 255, 0.015));
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius-lg);
  box-shadow: 0 12px 36px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.04);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  overflow: hidden;
}

.glass::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: inherit;
  background: radial-gradient(140% 120% at 20% 0%, rgba(110, 242, 196, 0.08), transparent 40%);
  opacity: 0.8;
  pointer-events: none;
  z-index: 0;
  mix-blend-mode: screen;
}

.glass > * {
  position: relative;
  z-index: 1;
}

/* Stronger glass for cards */
.glass-card {
  position: relative;
  background: linear-gradient(170deg, rgba(18, 26, 45, 0.85), rgba(12, 18, 30, 0.92));
  border: 1px solid rgba(255, 255, 255, 0.06);
  border-radius: var(--radius-lg);
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.45), 0 0 0 1px rgba(255, 255, 255, 0.02);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
  overflow: hidden;
}

/* Subtle glass for panels */
.glass-panel {
  position: relative;
  background: linear-gradient(150deg, rgba(17, 25, 41, 0.85), rgba(12, 18, 30, 0.95));
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius-xl);
  box-shadow: 0 18px 48px rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  overflow: hidden;
}

/* Glass button */
.glass-button {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.03));
  border: 1px solid rgba(255, 255, 255, 0.12);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
  transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
}

.glass-button:hover {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.12), rgba(255, 255, 255, 0.05));
  border-color: rgba(255, 255, 255, 0.18);
  box-shadow: 0 12px 28px rgba(0, 0, 0, 0.4);
  transform: translateY(-1px);
}

/* Stage-specific glass columns */
.glass-column-inbox {
  background: linear-gradient(180deg, rgba(123, 208, 255, 0.14), rgba(123, 208, 255, 0.04));
  border: 1px solid var(--stage-inbox-border);
}

.glass-column-plan {
  background: linear-gradient(180deg, rgba(178, 155, 255, 0.14), rgba(178, 155, 255, 0.04));
  border: 1px solid var(--stage-plan-border);
}

.glass-column-code {
  background: linear-gradient(180deg, rgba(110, 242, 196, 0.16), rgba(110, 242, 196, 0.05));
  border: 1px solid var(--stage-code-border);
}

.glass-column-audit {
  background: linear-gradient(180deg, rgba(244, 199, 107, 0.14), rgba(244, 199, 107, 0.04));
  border: 1px solid var(--stage-audit-border);
}

.glass-column-completed {
  background: linear-gradient(180deg, rgba(123, 141, 165, 0.14), rgba(123, 141, 165, 0.05));
  border: 1px solid var(--stage-completed-border);
}

/* Glow effects */
.glow-inbox { box-shadow: 0 0 24px rgba(123, 208, 255, 0.18); }
.glow-plan { box-shadow: 0 0 24px rgba(178, 155, 255, 0.18); }
.glow-code { box-shadow: 0 0 24px rgba(110, 242, 196, 0.22); }
.glow-audit { box-shadow: 0 0 24px rgba(244, 199, 107, 0.18); }
.glow-completed { box-shadow: 0 0 24px rgba(123, 141, 165, 0.16); }

/* Hover glow intensify */
.glass-column-inbox:hover { box-shadow: 0 0 32px rgba(123, 208, 255, 0.26); }
.glass-column-plan:hover { box-shadow: 0 0 32px rgba(178, 155, 255, 0.26); }
.glass-column-code:hover { box-shadow: 0 0 32px rgba(110, 242, 196, 0.3); }
.glass-column-audit:hover { box-shadow: 0 0 32px rgba(244, 199, 107, 0.26); }
.glass-column-completed:hover { box-shadow: 0 0 32px rgba(123, 141, 165, 0.22); }

/* Glass input */
.glass-input {
  background: rgba(16, 26, 47, 0.8);
  border: 1px solid rgba(255, 255, 255, 0.08);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.04);
  transition: all var(--transition-fast);
}

.glass-input:focus {
  border-color: var(--vscode-focusBorder);
  box-shadow: 0 0 0 1px rgba(122, 162, 255, 0.35), 0 10px 30px rgba(122, 162, 255, 0.18);
  outline: none;
}

/* Glass modal overlay */
.glass-overlay {
  background: radial-gradient(circle at 20% 20%, rgba(110, 242, 196, 0.1), transparent 45%),
              radial-gradient(circle at 80% 0%, rgba(122, 162, 255, 0.1), transparent 40%),
              rgba(2, 6, 14, 0.75);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
}

/* Glass modal */
.glass-modal {
  background: linear-gradient(160deg, rgba(18, 26, 45, 0.95), rgba(12, 18, 30, 0.98));
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 0 24px 56px rgba(0, 0, 0, 0.55), inset 0 1px 0 rgba(255, 255, 255, 0.05);
  border-radius: var(--radius-xl);
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

/* Shimmer effect for loading states */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.08) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Drag state */
.dragging {
  opacity: 0.88;
  transform: rotate(2deg) scale(1.01);
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.5);
  z-index: 1000;
}

/* Drop zone highlight */
.drop-zone-active {
  background: rgba(110, 242, 196, 0.14) !important;
  border: 2px dashed rgba(122, 162, 255, 0.6) !important;
}
