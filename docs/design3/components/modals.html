<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kanban2Code - Modals</title>
  <link rel="stylesheet" href="../styles/variables.css">
  <link rel="stylesheet" href="../styles/glassmorphic.css">
  <link rel="stylesheet" href="../styles/components.css">
  <style>
    body {
      padding: 40px;
      display: flex;
      flex-wrap: wrap;
      gap: 40px;
    }
    .modal-preview {
      position: relative;
      background: rgba(0,0,0,0.6);
      padding: 40px;
      border-radius: 12px;
    }
    .preview-label {
      position: absolute;
      top: -24px;
      left: 0;
      font-size: 11px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .modal {
      width: 420px;
      border-radius: var(--radius-xl);
    }
    .modal-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: var(--spacing-lg);
      border-bottom: 1px solid var(--vscode-panel-border);
    }
    .modal-title {
      font-size: var(--font-size-lg);
      font-weight: 600;
    }
    .modal-close {
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: transparent;
      border: none;
      border-radius: var(--radius-sm);
      cursor: pointer;
      color: var(--vscode-descriptionForeground);
      transition: all var(--transition-fast);
    }
    .modal-close:hover {
      background: var(--vscode-list-hoverBackground);
      color: var(--vscode-editor-foreground);
    }
    .modal-body {
      padding: var(--spacing-lg);
    }
    .modal-footer {
      display: flex;
      justify-content: flex-end;
      gap: var(--spacing-sm);
      padding: var(--spacing-lg);
      border-top: 1px solid var(--vscode-panel-border);
    }
    .form-group {
      margin-bottom: var(--spacing-lg);
    }
    .form-label {
      display: block;
      margin-bottom: var(--spacing-xs);
      font-size: var(--font-size-sm);
      font-weight: 500;
      color: var(--vscode-editor-foreground);
    }
    .form-hint {
      margin-top: var(--spacing-xs);
      font-size: var(--font-size-xs);
      color: var(--vscode-descriptionForeground);
    }
    .form-row {
      display: flex;
      gap: var(--spacing-md);
    }
    .form-row .form-group {
      flex: 1;
    }
    select.input {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%238c8c8c' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      padding-right: 36px;
    }
    .tag-input-container {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      padding: var(--spacing-sm);
      background: var(--vscode-input-background);
      border: 1px solid var(--vscode-input-border);
      border-radius: var(--radius-md);
      min-height: 38px;
    }
    .tag-input-container:focus-within {
      border-color: var(--vscode-focusBorder);
      box-shadow: 0 0 0 1px var(--vscode-focusBorder);
    }
    .tag-input-container .tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    .tag-input-container .tag-remove {
      width: 14px;
      height: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255,255,255,0.1);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      color: inherit;
      font-size: 10px;
      line-height: 1;
    }
    .tag-input-container .tag-remove:hover {
      background: rgba(255,255,255,0.2);
    }
    .tag-input-container input {
      flex: 1;
      min-width: 80px;
      padding: 2px;
      background: transparent;
      border: none;
      outline: none;
      color: var(--vscode-input-foreground);
      font-size: var(--font-size-sm);
    }
    .tag-input-container input::placeholder {
      color: var(--vscode-input-placeholderForeground);
    }
    textarea.input {
      resize: vertical;
      min-height: 100px;
      font-family: var(--font-mono);
      font-size: var(--font-size-sm);
    }
  </style>
</head>
<body>
  <!-- Create Task Modal -->
  <div class="modal-preview">
    <span class="preview-label">Create Task Modal</span>
    <div class="modal glass-modal">
      <div class="modal-header">
        <h2 class="modal-title">New Task</h2>
        <button class="modal-close">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Title *</label>
          <input type="text" class="input glass-input" placeholder="What needs to be done?">
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Location</label>
            <select class="input glass-input">
              <option value="inbox">Inbox</option>
              <option value="auth-system">auth-system</option>
              <option value="navbar-redesign">navbar-redesign</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Phase</label>
            <select class="input glass-input">
              <option value="">No phase</option>
              <option value="phase-1">phase-1-setup</option>
              <option value="phase-2">phase-2-oauth</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label class="form-label">Stage</label>
            <select class="input glass-input">
              <option value="inbox">Inbox</option>
              <option value="plan">Plan</option>
              <option value="code">Code</option>
              <option value="audit">Audit</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Agent</label>
            <select class="input glass-input">
              <option value="">No agent</option>
              <option value="planner">planner</option>
              <option value="ncode">Ncode</option>
              <option value="pcoder">pcoder</option>
            </select>
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">Tags</label>
          <div class="tag-input-container">
            <span class="tag tag-feature">
              feature
              <button class="tag-remove">x</button>
            </span>
            <span class="tag tag-mvp">
              mvp
              <button class="tag-remove">x</button>
            </span>
            <input type="text" placeholder="Add tag...">
          </div>
          <div class="form-hint">Press Enter or comma to add tags</div>
        </div>

        <div class="form-group">
          <label class="form-label">Template</label>
          <select class="input glass-input">
            <option value="">No template</option>
            <option value="bug">Bug Report</option>
            <option value="feature">Feature Request</option>
            <option value="spike">Spike / Research</option>
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary">Cancel</button>
        <button class="btn btn-primary">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
          </svg>
          Create Task
        </button>
      </div>
    </div>
  </div>

  <!-- Create Project Modal -->
  <div class="modal-preview">
    <span class="preview-label">Create Project Modal</span>
    <div class="modal glass-modal">
      <div class="modal-header">
        <h2 class="modal-title">New Project</h2>
        <button class="modal-close">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="form-label">Project Name *</label>
          <input type="text" class="input glass-input" placeholder="e.g., auth-system">
          <div class="form-hint">Will create folder: projects/auth-system/</div>
        </div>

        <div class="form-group">
          <label class="form-label">Description</label>
          <textarea class="input glass-input" placeholder="Brief description of the project..."></textarea>
        </div>

        <div class="form-group">
          <label class="form-label">Initial Phases (optional)</label>
          <div class="tag-input-container">
            <span class="tag" style="background: var(--vscode-badge-background);">
              phase-1-setup
              <button class="tag-remove">x</button>
            </span>
            <span class="tag" style="background: var(--vscode-badge-background);">
              phase-2-implementation
              <button class="tag-remove">x</button>
            </span>
            <input type="text" placeholder="Add phase...">
          </div>
          <div class="form-hint">Creates phase folders with _context.md files</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary">Cancel</button>
        <button class="btn btn-primary">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
            <path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3z"/>
          </svg>
          Create Project
        </button>
      </div>
    </div>
  </div>

  <!-- Context Menu (Card Actions) -->
  <div class="modal-preview" style="padding: 20px;">
    <span class="preview-label">Task Context Menu</span>
    <div class="card-menu glass-modal" style="position: relative;">
      <button class="card-menu-item">
        <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/>
          <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/>
        </svg>
        Copy XML (Full Context)
      </button>
      <button class="card-menu-item">
        <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8.636 3.5a.5.5 0 0 0-.5-.5H1.5A1.5 1.5 0 0 0 0 4.5v10A1.5 1.5 0 0 0 1.5 16h10a1.5 1.5 0 0 0 1.5-1.5V7.864a.5.5 0 0 0-1 0V14.5a.5.5 0 0 1-.5.5h-10a.5.5 0 0 1-.5-.5v-10a.5.5 0 0 1 .5-.5h6.636a.5.5 0 0 0 .5-.5z"/>
          <path d="M16 .5a.5.5 0 0 0-.5-.5h-5a.5.5 0 0 0 0 1h3.793L6.146 9.146a.5.5 0 1 0 .708.708L15 1.707V5.5a.5.5 0 0 0 1 0v-5z"/>
        </svg>
        Open Task File
      </button>
      <div class="card-menu-divider"></div>
      <div class="card-menu-submenu">
        <button class="card-menu-item">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
            <path d="M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5v-3z"/>
          </svg>
          Change Stage
        </button>
        <div class="submenu-content glass-modal">
          <button class="card-menu-item">
            <span class="stage-option">
              <span class="stage-dot" style="background: var(--stage-inbox);"></span>
              Inbox
            </span>
          </button>
          <button class="card-menu-item">
            <span class="stage-option">
              <span class="stage-dot" style="background: var(--stage-plan);"></span>
              Plan
            </span>
          </button>
          <button class="card-menu-item">
            <span class="stage-option">
              <span class="stage-dot" style="background: var(--stage-code);"></span>
              Code
            </span>
          </button>
          <button class="card-menu-item">
            <span class="stage-option">
              <span class="stage-dot" style="background: var(--stage-audit);"></span>
              Audit
            </span>
          </button>
          <button class="card-menu-item">
            <span class="stage-option">
              <span class="stage-dot" style="background: var(--stage-completed);"></span>
              Completed
            </span>
          </button>
        </div>
      </div>
      <button class="card-menu-item">
        <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M9.828 3h3.982a2 2 0 0 1 1.992 2.181l-.637 7A2 2 0 0 1 13.174 14H2.826a2 2 0 0 1-1.991-1.819l-.637-7a1.99 1.99 0 0 1 .342-1.31L.5 3a2 2 0 0 1 2-2h3.672a2 2 0 0 1 1.414.586l.828.828A2 2 0 0 0 9.828 3z"/>
        </svg>
        Move to Project...
      </button>
      <button class="card-menu-item">
        <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
        </svg>
        Add Follow-up
      </button>
      <div class="card-menu-divider"></div>
      <button class="card-menu-item">
        <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M12.643 15C13.979 15 15 13.845 15 12.5V5H1v7.5C1 13.845 2.021 15 3.357 15h9.286zM5.5 7h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1zM.8 1a.8.8 0 0 0-.8.8V3a.8.8 0 0 0 .8.8h14.4A.8.8 0 0 0 16 3V1.8a.8.8 0 0 0-.8-.8H.8z"/>
        </svg>
        Archive
      </button>
      <button class="card-menu-item danger">
        <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
          <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
          <path d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1z"/>
        </svg>
        Delete Task
      </button>
    </div>
  </div>

  <!-- Confirmation Dialog -->
  <div class="modal-preview">
    <span class="preview-label">Confirmation Dialog</span>
    <div class="modal glass-modal" style="width: 360px;">
      <div class="modal-header">
        <h2 class="modal-title">Delete Task?</h2>
        <button class="modal-close">
          <svg class="icon" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <p style="color: var(--vscode-descriptionForeground);">
          Are you sure you want to delete <strong style="color: var(--vscode-editor-foreground);">"Fix auth token refresh"</strong>? This action cannot be undone.
        </p>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary">Cancel</button>
        <button class="btn btn-primary" style="background: var(--tag-bug);">Delete</button>
      </div>
    </div>
  </div>
</body>
</html>
