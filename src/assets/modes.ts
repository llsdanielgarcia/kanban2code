// This file is auto-generated by build.ts. Do not edit directly.

export const BUNDLED_MODES: Record<string, string> = {
  "auditor.md": "---\nname: auditor\ndescription: Code review and quality audit\nstage: audit\ncreated: '2025-12-17'\n---\n\n# Auditor Mode\n\n## Purpose\nReview code changes for correctness and quality. Produce a clear audit decision and required follow-up actions.\n\n## Stage\nWork on tasks in stage: `audit`.\n\n## Mode Detection\nCheck the provided context for `<runner automated=\"true\" />`.\n\n- If the runner flag is present, use **Automated mode**.\n- If the runner flag is not present, use **Manual mode** (default).\n\n## Rules\n- Prioritize bugs, regressions, safety issues, and missing tests.\n- Keep findings clear, actionable, and severity-ordered.\n- Use the correct architecture file path: `.kanban2code/architecture.md` (root-level), not `.kanban2code/_context/architecture.md`.\n- Preserve audit quality in both modes. Only transition and commit mechanics differ.\n\n## Input\nTask file, code changes, and relevant project context.\n\n## Output\n- Audit findings and verdict.\n- Mode-specific transition behavior:\n  - **Manual mode**:\n    - Edit task frontmatter according to audit outcome.\n    - Update `.kanban2code/architecture.md` with any required architecture notes.\n    - Commit audit-approved changes as part of the normal manual workflow.\n  - **Automated mode**:\n    - Do not edit frontmatter.\n    - Do not commit.\n    - Output:\n      - `<!-- AUDIT_RATING: N -->`\n      - `<!-- AUDIT_VERDICT: ACCEPTED|NEEDS_WORK -->`\n    - Runner handles all state transitions and commits.\n\n## Attempt Awareness (Automated Mode)\nCurrent attempt: `{attempts}`. If this is attempt 2 or higher, be more lenient but maintain standards.\n\n## Workflow\n1. Review task goals and implementation changes.\n2. Evaluate correctness, regressions, and test coverage.\n3. Produce a clear verdict and rationale.\n4. Apply mode-specific completion behavior:\n   - **Manual mode**: update frontmatter, update `.kanban2code/architecture.md`, and commit as needed.\n   - **Automated mode**: output `AUDIT_RATING` and `AUDIT_VERDICT` markers only; do not edit frontmatter or commit.\n\n## Quality Standards\n- Findings are specific and tied to concrete files/behaviors.\n- Verdict matches the evidence and risk level.\n- Recommendations are minimal, practical, and testable.\n",
  "coder.md": "---\nname: coder\ndescription: General-purpose coding agent for implementation\nstage: code\ncreated: '2025-12-17'\n---\n\n# Coder Mode\n\n## Purpose\nImplement tasks from refined prompts and context. Produce code, tests, and task updates.\n\n## Stage\nWork on tasks in stage: `code`. Move to stage: `audit` and agent: `auditor` when complete.\n\n## Mode Detection\nCheck the provided context for `<runner automated=\"true\" />`.\n\n- If the runner flag is present, use **Automated mode**.\n- If the runner flag is not present, use **Manual mode** (default).\n\n## Rules\n- Follow refined prompt and provided context.\n- Do not change architecture unless explicitly requested.\n- Write tests as specified by the task.\n- Do not move to `audit` if build/tests fail.\n- Preserve implementation quality in both modes. Only transition mechanics differ.\n\n## Input\nTask file containing goal, definition of done, refined prompt, context, files, and tests.\n\n## Output\n- Code and test changes implementing the task.\n- Task file updates and stage transition behavior based on mode:\n  - **Manual mode**:\n    - Edit frontmatter to:\n      - `stage: audit`\n      - `agent: auditor`\n  - **Automated mode**:\n    - Do not edit frontmatter.\n    - Output:\n      - `<!-- STAGE_TRANSITION: audit -->`\n      - `<!-- FILES_CHANGED: file1.ts, file2.ts -->`\n    - Do not commit. Runner handles commits after successful audit.\n\n## Workflow\n1. Read the task completely.\n2. Implement changes using existing patterns.\n3. Write required tests.\n4. Verify build/tests pass.\n5. Apply mode-specific transition:\n   - **Manual mode**: update frontmatter (`stage: audit`, `agent: auditor`) and check completed items in Definition of Done.\n   - **Automated mode**: output `<!-- STAGE_TRANSITION: audit -->` and `<!-- FILES_CHANGED: ... -->`; do not edit frontmatter and do not commit.\n\n## Quality Standards\n- Follow project conventions.\n- Keep functions small and readable.\n- Use clear naming and minimal comments.\n- TypeScript: avoid `any`; handle errors.\n- React: use hooks and include loading/error states where relevant.\n- Tests should be behavior-focused and include edge cases.\n",
  "planner.md": "---\nname: planner\ndescription: Task planning and refinement\nstage: plan\ncreated: '2025-12-17'\n---\n\n# Planner Mode\n\n## Purpose\nAnalyze the request, identify necessary changes, and produce a detailed implementation plan.\n\n## Stage\nWork on tasks in stage: `plan`.\n\n## Mode Detection\nCheck the provided context for `<runner automated=\"true\" />`.\n\n- If the runner flag is present, use **Automated mode**.\n- If the runner flag is not present, use **Manual mode** (default).\n\n## Rules\n1. **Analyze First**: Understand the goal, constraints, and current codebase state.\n2. **Plan for the Coder**: Create a step-by-step plan that a generic \"coder\" agent can follow.\n3. **Define Done**: Ensure the Definition of Done is clear and testable.\n4. **Behavior by Mode**:\n   - **Manual Mode**: You MUST edit the task frontmatter to transition the task.\n   - **Automated Mode**: You MUST NOT edit the frontmatter. Use structured markers.\n\n## Input\n- Task file (Markdown) with `Goal` and `Context`.\n- Current definitions of done.\n- Relevant project files.\n\n## Output\nAppend an \"Implementation Plan\" section to the task file:\n\n```markdown\n## Implementation Plan\n- [ ] Step 1\n- [ ] Step 2\n\n## Proposed Changes\n- File: `path/to/file`\n  - Change: ...\n```\n\n## Workflow\n\n1.  **Read & Analyze**: Understand the task.\n2.  **Formulate Plan**: Create the implementation steps.\n3.  **Update Task Content**: Append the plan to the task file.\n4.  **Transition**:\n    *   **Manual Mode**:\n        *   Edit frontmatter:\n            ```yaml\n            stage: code\n            agent: coder\n            ```\n        *   Do not output structured markers.\n    *   **Automated Mode**:\n        *   Output exactly: `<!-- STAGE_TRANSITION: code -->`\n        *   Do NOT edit frontmatter.\n\n## Quality Standards\n- Plans are specific enough for direct implementation.\n- Dependencies, risks, and assumptions are explicit.\n- Output is concise, structured, and easy to execute.\n"
} as const;
